"""
OP 策略核心逻辑：日常高波动率突破
性质：趋势跟踪 + 波动率突破
不是高频，不是网格，是"等待 → 一击"
"""

# ============================================
# 指标体系（推荐组合，Agent 可迭代优化）
# ============================================

# 1. 波动率确认（必须）
#    - ATR (Average True Range)：筛选"当前波动率足够大"的品种
#    - Bollinger Bands / Keltner Channel：突破即入场信号

# 2. 趋势确认（必须）
#    - ADX > 25：确认趋势存在（OP 是趋势交易者不是震荡交易者）
#    - EMA 交叉 / Vortex Indicator：方向确认

# 3. 过滤器（防极端行情）
#    - 短时间价格跳变 > X% → 不入场（防打针）
#    - Spread 过大 → 不入场（流动性不足）
#    - 成交量异常 → 不入场

# ============================================
# 入场条件（全部满足才开仓）
# ============================================
# COND_1: ADX > threshold (趋势存在)
# COND_2: 价格突破 Bollinger/Keltner 上轨(做多) 或下轨(做空)
# COND_3: ATR > min_atr (波动率足够，值得博)
# COND_4: 无极端跳变 (过去 N 根 K 线无 >X% 的单根跳变)
# COND_5: 当周预算未耗尽

# ============================================
# 出场条件
# ============================================
# EXIT_1: 硬止损 → 仓位归零（100 刀没了就没了）
# EXIT_2: 目标止盈 → ROI 达到 10x（或接近）
# EXIT_3: 移动止盈 → 趋势反转信号（保护已有利润）
# EXIT_4: 时间止损 → 持仓超过 N 小时无进展，平仓换机会