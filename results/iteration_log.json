[
  {
    "round": 1,
    "timestamp": "2026-02-28T10:36:06.981142+00:00",
    "changes_made": "放宽入场条件：将 ADX 阈值从 25 调整到 20，ATR 乘数从 1.0 调整到 0.8，并添加 RSI 超买超卖过滤以提升信号质量",
    "rationale": "初始策略入场条件可能过于严格，导致交易信号不足。放宽 ADX 和 ATR 阈值可以增加交易机会，同时引入 RSI 过滤（超买>70做空，超卖<30做多）以提高胜率，避免在极端行情下入场。",
    "backtest_metrics": {
      "total_profit_pct": 0.0,
      "total_profit_abs": 0,
      "max_drawdown_pct": 0.0,
      "max_drawdown_abs": 0.0,
      "sharpe_ratio": 0,
      "sortino_ratio": 0,
      "profit_factor": 0.0,
      "calmar_ratio": 0,
      "sqn": 0.0,
      "cagr": 0.0,
      "expectancy": 0.0,
      "expectancy_ratio": 100.0,
      "win_rate": 0.0,
      "total_trades": 0,
      "trade_count_long": 0,
      "trade_count_short": 0,
      "avg_profit_per_trade_pct": 0,
      "avg_trade_duration": "0:00:00",
      "backtest_days": 90,
      "market_change": -0.29266952659044226,
      "best_pair": {
        "key": "BTC/USDT:USDT",
        "trades": 0,
        "profit_mean": 0.0,
        "profit_mean_pct": 0.0,
        "profit_total_abs": 0,
        "profit_total": 0.0,
        "profit_total_pct": 0.0,
        "duration_avg": "0:00",
        "wins": 0,
        "draws": 0,
        "losses": 0,
        "winrate": 0.0,
        "cagr": 0.0,
        "expectancy": 0.0,
        "expectancy_ratio": 100.0,
        "sortino": 0,
        "sharpe": 0,
        "calmar": 0,
        "sqn": 0.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.0,
        "max_drawdown_abs": 0.0
      },
      "worst_pair": {
        "key": "BTC/USDT:USDT",
        "trades": 0,
        "profit_mean": 0.0,
        "profit_mean_pct": 0.0,
        "profit_total_abs": 0,
        "profit_total": 0.0,
        "profit_total_pct": 0.0,
        "duration_avg": "0:00",
        "wins": 0,
        "draws": 0,
        "losses": 0,
        "winrate": 0.0,
        "cagr": 0.0,
        "expectancy": 0.0,
        "expectancy_ratio": 100.0,
        "sortino": 0,
        "sharpe": 0,
        "calmar": 0,
        "sqn": 0.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.0,
        "max_drawdown_abs": 0.0
      },
      "total_trades_count": 0,
      "stake_limit_hit_count": 0,
      "weekly_target_hit_rate": 0,
      "avg_trade_duration_hours": 0
    },
    "eval_result": {
      "passed": false,
      "score": 0.42,
      "gate_failures": [
        "weekly_target_hit_rate=0.00% < 25.00%",
        "total_trades=0 < 50",
        "monthly_net_profit_avg=0.00 <= 0.0"
      ],
      "score_breakdown": {
        "monthly_profit_component": 0.0,
        "weekly_hit_rate_component": 0.0,
        "max_loss_penalty": 0.0,
        "trade_efficiency_component": 0.4167
      },
      "is_overfitting": false,
      "recommendation": "交易次数不足(0), 建议放宽入场条件或增加交易对 | 周达标率过低, 考虑: 1) 降低目标倍数 2) 增加杠杆(风险更高) 3) 优化入场时机 | 持仓时间过短(<30min), 可能频繁被止损扫出"
    },
    "score": 0.42,
    "strategy_version_path": "results/strategy_versions/round_001_20260228_183844_放宽入场条件_将_ADX_阈值从_25_调整到_20_ATR_乘数从_1_0_调整到_0_8_并添加.py",
    "next_action": "运行回测，评估交易频率、胜率和盈亏比，根据结果进一步优化入场条件或调整止损/止盈参数",
    "status": "success"
  },
  {
    "round": 2,
    "timestamp": "2026-02-28T10:38:59.154562+00:00",
    "changes_made": "放宽入场条件：将 ADX 阈值从 20 调整到 15，ATR 乘数从 0.8 调整到 0.5，并移除 RSI 过滤以增加交易信号",
    "rationale": "回测结果显示总交易数为 0，表明入场条件过于严格，导致无交易信号。ADX 阈值 20 可能过高，ATR 乘数 0.8 可能过滤掉过多波动，RSI 过滤可能限制机会。放宽这些参数以增加交易频率，同时保持趋势和波动率确认。",
    "backtest_metrics": {
      "total_profit_pct": 5.375527850000012,
      "total_profit_abs": 5.375527850000012,
      "max_drawdown_pct": 41.20069375093273,
      "max_drawdown_abs": 73.83666796,
      "sharpe_ratio": 0.04479856981056712,
      "sortino_ratio": 0.08484363357634687,
      "profit_factor": 1.036281723523548,
      "calmar_ratio": 2.7696220627874197,
      "sqn": 0.0526,
      "cagr": 0.2365804400517133,
      "expectancy": 0.3583685233333327,
      "expectancy_ratio": 0.0193502525458924,
      "win_rate": 0.4666666666666667,
      "total_trades": 15,
      "trade_count_long": 9,
      "trade_count_short": 6,
      "avg_profit_per_trade_pct": 2.6015163917868884,
      "avg_trade_duration": "19:40:00",
      "backtest_days": 90,
      "market_change": -0.29266952659044226,
      "best_pair": {
        "key": "LTC/USDT:USDT",
        "trades": 1,
        "profit_mean": 0.5002501250625313,
        "profit_mean_pct": 50.03,
        "profit_total_abs": 36.180992,
        "profit_total": 0.36180992,
        "profit_total_pct": 36.18,
        "duration_avg": "6:00:00",
        "wins": 1,
        "draws": 0,
        "losses": 0,
        "winrate": 1.0,
        "cagr": 2.4987820522846307,
        "expectancy": 36.180992,
        "expectancy_ratio": 100.0,
        "sortino": -100,
        "sharpe": -100,
        "calmar": -100,
        "sqn": -100.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.0,
        "max_drawdown_abs": 0.0
      },
      "worst_pair": {
        "key": "ETH/USDT:USDT",
        "trades": 1,
        "profit_mean": -0.17102536875900204,
        "profit_mean_pct": -17.1,
        "profit_total_abs": -30.32795956,
        "profit_total": -0.3032795956,
        "profit_total_pct": -30.33,
        "duration_avg": "1 day, 1:30:00",
        "wins": 0,
        "draws": 0,
        "losses": 1,
        "winrate": 0.0,
        "cagr": -0.7690514989126904,
        "expectancy": -30.32795956,
        "expectancy_ratio": -1.0,
        "sortino": -100,
        "sharpe": -100,
        "calmar": -21.227747971714226,
        "sqn": -100.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.30327959559999995,
        "max_drawdown_abs": 30.32795956
      },
      "total_trades_count": 15,
      "stake_limit_hit_count": 0,
      "weekly_target_hit_rate": 0,
      "total_weeks": 0,
      "target_hit_weeks": 0,
      "monthly_net_profit_avg": 0,
      "max_monthly_loss": 0,
      "avg_trade_duration_hours": 19.666666666666668
    },
    "eval_result": {
      "passed": false,
      "score": 0.51,
      "gate_failures": [
        "weekly_target_hit_rate=0.00% < 25.00%",
        "total_trades=15 < 50",
        "monthly_net_profit_avg=0.00 <= 0.0"
      ],
      "score_breakdown": {
        "monthly_profit_component": 0.0,
        "weekly_hit_rate_component": 0.0,
        "max_loss_penalty": 0.0,
        "trade_efficiency_component": 0.5085
      },
      "is_overfitting": false,
      "recommendation": "交易次数不足(15), 建议放宽入场条件或增加交易对 | 周达标率过低, 考虑: 1) 降低目标倍数 2) 增加杠杆(风险更高) 3) 优化入场时机"
    },
    "score": 0.51,
    "strategy_version_path": "results/strategy_versions/round_002_20260228_184132_放宽入场条件_将_ADX_阈值从_20_调整到_15_ATR_乘数从_0_8_调整到_0_5_并移除.py",
    "next_action": "OVERFITTING: OOS/IS ratio = 0.55 < 0.6 threshold. IS score=0.51, OOS score=0.28",
    "status": "overfitting"
  },
  {
    "round": 3,
    "timestamp": "2026-02-28T10:41:59.088322+00:00",
    "changes_made": "收紧入场条件：将 ADX 阈值从 15 调整到 18，ATR 乘数从 0.5 调整到 0.7，并添加 RSI 过滤（RSI > 50 做多，RSI < 50 做空）以提升信号质量；调整止损从 -0.50 到 -0.40，ROI 梯度止盈从 {0: 1.5, 60: 1.0, 240: 0.5, 720: 0.3} 到 {0: 1.2, 30: 0.8, 120: 0.5, 360: 0.3}，以降低风险并提高胜率",
    "rationale": "回测显示总利润仅 5.38%，胜率 46.67%，但最大回撤高达 41.20%，盈亏比低（profit_factor 1.036），表明策略过于激进，入场信号质量差导致亏损交易过多。历史变更中放宽条件（ADX 15, ATR 0.5）增加了交易频率但未提升盈利。需要收紧入场以提高胜率，同时调整止损和止盈以保护本金并锁定利润，适应滚仓复利模型。",
    "backtest_metrics": {
      "total_profit_pct": -33.104466560000006,
      "total_profit_abs": -33.104466560000006,
      "max_drawdown_pct": 55.40106217540638,
      "max_drawdown_abs": 74.95988593000001,
      "sharpe_ratio": -0.4182953608849046,
      "sortino_ratio": -0.8199473512924143,
      "profit_factor": 0.6970422817631051,
      "calmar_ratio": -12.684472919468293,
      "sqn": -0.4915,
      "cagr": -0.8041658961097329,
      "expectancy": -2.2069644373333333,
      "expectancy_ratio": -0.22216899337372287,
      "win_rate": 0.26666666666666666,
      "total_trades": 15,
      "trade_count_long": 10,
      "trade_count_short": 5,
      "avg_profit_per_trade_pct": -1.0011569458851601,
      "avg_trade_duration": "11:19:00",
      "backtest_days": 90,
      "market_change": -0.29266952659044226,
      "best_pair": {
        "key": "LTC/USDT:USDT",
        "trades": 1,
        "profit_mean": 0.5002501250625312,
        "profit_mean_pct": 50.03,
        "profit_total_abs": 42.72,
        "profit_total": 0.42719999999999997,
        "profit_total_pct": 42.72,
        "duration_avg": "6:00:00",
        "wins": 1,
        "draws": 0,
        "losses": 0,
        "winrate": 1.0,
        "cagr": 3.2317678918806143,
        "expectancy": 42.72,
        "expectancy_ratio": 100.0,
        "sortino": -100,
        "sharpe": -100,
        "calmar": -100,
        "sqn": -100.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.0,
        "max_drawdown_abs": 0.0
      },
      "worst_pair": {
        "key": "ETH/USDT:USDT",
        "trades": 1,
        "profit_mean": -0.20156732510381195,
        "profit_mean_pct": -20.16,
        "profit_total_abs": -16.3616765,
        "profit_total": -0.16361676500000003,
        "profit_total_pct": -16.36,
        "duration_avg": "1 day, 0:15:00",
        "wins": 0,
        "draws": 0,
        "losses": 1,
        "winrate": 0.0,
        "cagr": -0.5154813927021895,
        "expectancy": -16.3616765,
        "expectancy_ratio": -1.0,
        "sortino": -100,
        "sharpe": -100,
        "calmar": -21.227747971714223,
        "sqn": -100.0,
        "profit_factor": 0.0,
        "max_drawdown_account": 0.16361676500000003,
        "max_drawdown_abs": 16.3616765
      },
      "total_trades_count": 15,
      "stake_limit_hit_count": 0,
      "weekly_target_hit_rate": 0,
      "total_weeks": 0,
      "target_hit_weeks": 0,
      "monthly_net_profit_avg": 0,
      "max_monthly_loss": 0,
      "avg_trade_duration_hours": 11.316666666666666
    },
    "eval_result": {
      "passed": false,
      "score": 0.88,
      "gate_failures": [
        "weekly_target_hit_rate=0.00% < 25.00%",
        "total_trades=15 < 50",
        "monthly_net_profit_avg=0.00 <= 0.0"
      ],
      "score_breakdown": {
        "monthly_profit_component": 0.0,
        "weekly_hit_rate_component": 0.0,
        "max_loss_penalty": 0.0,
        "trade_efficiency_component": 0.8837
      },
      "is_overfitting": false,
      "recommendation": "交易次数不足(15), 建议放宽入场条件或增加交易对 | 周达标率过低, 考虑: 1) 降低目标倍数 2) 增加杠杆(风险更高) 3) 优化入场时机 | 平均每笔亏损, 信号质量需要根本性改善"
    },
    "score": 0.88,
    "strategy_version_path": "results/strategy_versions/round_003_20260228_184434_收紧入场条件_将_ADX_阈值从_15_调整到_18_ATR_乘数从_0_5_调整到_0_7_并添加.py",
    "next_action": "OVERFITTING: OOS/IS ratio = 0.47 < 0.6 threshold. IS score=0.88, OOS score=0.41",
    "status": "overfitting"
  }
]